<!DOCTYPE html>
<html ng-app='devstudy'>
<head>
<!--
⣀⡀ ⢀⣀ ⢀⣀ ⡀⢀ ⢀⡀ ⣰⡀
⠇⠸ ⠣⠼ ⠣⠤ ⣑⡺ ⠣⠜ ⠘⠤

Copyright © 2013- nacyot<Daewkon Kim> All Rights Reserved.
-->
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='images/favicon.ico' rel='shortcut icon' type='image/x-icon'>
<link href='http://blog.nacyot.com/articles/2014-06-01-emacs-with-cask/' rel='canonical'>
<link href='http://blog.nacyot.com/feed.xml' rel='alternative' type='application/rss+xml'>
<link href='/articles/2014-05-08-docker-registry-introduction/' rel='prev' title='도커 레지스트리(Docker Registry) 설치하기 + S3 연동'>
<link href='/articles/2014-07-17-graphite-with-dokcer/' rel='next' title='그라파이트(Grahpite) + 그라파나(Grafana) 모니터링 시스템 구축 with Docker'>
<meta content='얼마 전 Cask 공식 문서를 한국어로 번역해서 공개한 바 있다. Cask는 기본적으로 개발중인 패키지의 의존성을 관리하기 위한 툴이다.Emacs24부터는 기본적으로 패키지 관리자가 포함되어있지만, 이를 통해서 설치되는 패키지는 전역적으로 설치된다. 이러한 방식은 편리하지만, 각각의 프로젝트에게는 섬세하지도, 적절하지도 않다. Emacs24의 기본 패키지 관리자는 루비와 비교하면 Gem에 해당한다. 루비에서 Cask의 역할은 Gem이 아니라 Bundler의 역할과 같다. Cask는 각 패키지의 의존성을 패키지 단위로 관리해주고, 패키지나 Emacs를 해당하는 의존성을 바탕으로 실행할 수 있도록 도와주는 도구이다.' name='description'>
<link href='https://plus.google.com/+KimDaekwon' rel='author'>
<link href='https://plus.google.com/+KimDaekwon' rel='publisher'>
<meta content='summary' name='twitter:card'>
<meta content='article' property='og:type'>
<meta content='nacyot의 프로그래밍 이야기 :: 캐스크(Cask)로 이맥스(Emacs) 환경설정 관리하기' name='twitter:title'>
<meta content='nacyot의 프로그래밍 이야기 :: 캐스크(Cask)로 이맥스(Emacs) 환경설정 관리하기' property='og:title'>
<meta content='얼마 전 Cask 공식 문서를 한국어로 번역해서 공개한 바 있다. Cask는 기본적으로 개발중인 패키지의 의존성을 관리하기 위한 툴이다.Emacs24부터는 기본적으로 패키지 관리자가 포함되어있지만, 이를 통해서 설치되는 패키지는 전역적으로 설치된다. 이러한 방식은 편리하지만, 각각의 프로젝트에게는 섬세하지도, 적절하지도 않다. Emacs24의 기본 패키지 관리자는 루비와 비교하면 Gem에 해당한다. 루비에서 Cask의 역할은 Gem이 아니라 Bundler의 역할과 같다. Cask는 각 패키지의 의존성을 패키지 단위로 관리해주고, 패키지나 Emacs를 해당하는 의존성을 바탕으로 실행할 수 있도록 도와주는 도구이다.' name='twitter:description'>
<meta content='얼마 전 Cask 공식 문서를 한국어로 번역해서 공개한 바 있다. Cask는 기본적으로 개발중인 패키지의 의존성을 관리하기 위한 툴이다.Emacs24부터는 기본적으로 패키지 관리자가 포함되어있지만, 이를 통해서 설치되는 패키지는 전역적으로 설치된다. 이러한 방식은 편리하지만, 각각의 프로젝트에게는 섬세하지도, 적절하지도 않다. Emacs24의 기본 패키지 관리자는 루비와 비교하면 Gem에 해당한다. 루비에서 Cask의 역할은 Gem이 아니라 Bundler의 역할과 같다. Cask는 각 패키지의 의존성을 패키지 단위로 관리해주고, 패키지나 Emacs를 해당하는 의존성을 바탕으로 실행할 수 있도록 도와주는 도구이다.' property='og:description'>
<meta content='@nacyo_t' name='twitter:site'>
<meta content='nacyot의 프로그래밍 이야기' property='og:site_name'>
<meta content='http://blog.nacyot.com/articles/2014-06-01-emacs-with-cask/' name='twitter:url'>
<meta content='http://blog.nacyot.com/articles/2014-06-01-emacs-with-cask/' property='og:url'>
<meta content='http://blog.nacyot.com/images/nacyot.jpeg' name='twitter:image'>
<meta content='http://blog.nacyot.com/images/nacyot.jpeg' property='og:image'>
<title>nacyot의 프로그래밍 이야기 :: 캐스크(Cask)로 이맥스(Emacs) 환경설정 관리하기</title>
<link href="../../stylesheets/all.css" media="all" rel="stylesheet" type="text/css" />
<script src="../../javascripts/all.js" type="text/javascript"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-46785477-2', 'nacyot.com');
  ga('send', 'pageview');
</script>
</head>
<body>
<nav class='navbar navbar-fixed-top' role='navigation'>
<div class='navbar-header'>
<a class='navbar-brand' href='http://nacyot.com'>nacyot</a>
</div>
<div class='collapse navbar-collapse'>
<ul class='nav navbar-nav'>
<li>
<a href='http://blog.nacyot.com'>
<i class='fa fa-comment'></i>
프로그래밍 이야기
</a>
</li>
<li>
<a href='http://wiki.nacyot.com'>
<i class='fa fa-comment'></i>
nacyot wiki
</a>
</li>
</ul>
<ul class='nav navbar-nav navbar-right profile'>
<form class="navbar-form navbar-right" role="search" id="cse-search-box" action="http://google.com/cse">
<input type="hidden" name="cx" value="001442510316556568987:j38kphmalos" />
<input type="hidden" name="ie" value="UTF-8" />
<div class="form-group">
<input class="form-control" type="text" name="q" size="15" />
</div>
<button class="btn btn-default" type="submit" name="sa" value="Search">Search</button>
</form>
<li>
<a href='https://twitter.com/nacyo_t'>
<i class='fa fa-twitter twitter'></i>
@nacyo_t
</a>
</li>
<li>
<a href='https://github.com/nacyot/blog.nacyot.com-source'>
<i class='fa fa-github github'></i>
nacyot
</a>
</li>
</ul>
</div>
</nav>


<div class='mini-wall'>
<div class='profile'>
<a href="/"><img class='img-rounded profile_image' src='/images/nacyot.jpeg'>
</a>
</div>
</div>
<div class='row'>
<div class='col-lg-2 col-md-1 col-sm-1 col-xs-1'></div>
<div class='col-lg-8 col-md-10 col-sm-10 col-xs-10'>
<div class='main'>
<div class='articles'>
<div class='article'>
<div>
<span class='date'>
<i class='fa fa-calendar'></i>
Jun  1 2014
</span>
</div>
<div>
<span class='tags'>
<i class='fa fa-tag'></i>
<a href='/tags/cask'>cask</a>
<i class='fa fa-tag'></i>
<a href='/tags/emacs'>emacs</a>
<i class='fa fa-tag'></i>
<a href='/tags/pallet'>pallet</a>
<i class='fa fa-tag'></i>
<a href='/tags/의존성'>의존성</a>
<i class='fa fa-tag'></i>
<a href='/tags/이맥스'>이맥스</a>
<i class='fa fa-tag'></i>
<a href='/tags/패키지-관리자'>패키지 관리자</a>
</span>
</div>
<a name='toc'></a>
<h1 class='title'>
<a href="./">캐스크(Cask)로 이맥스(Emacs) 환경설정 관리하기</a>
</h1>
<div class='body'>
</div>
<div class='toc'></div>
<div class='body'>
<p>얼마 전 <a href="http://cask.emacs.kr/">Cask 공식 문서를 한국어로 번역</a>해서 공개한 바 있다. Cask는 기본적으로 개발중인 패키지의 의존성을 관리하기 위한 툴이다.</p>

<p><span class='dead_link'><a href='http://wiki.nacyot.com/documents/emacs24' rel='noindex,nofollow'>Emacs24</a></span>부터는 기본적으로 패키지 관리자가 포함되어있지만, 이를 통해서 설치되는 패키지는 전역적으로 설치된다. 이러한 방식은 편리하지만, 각각의 프로젝트에게는 섬세하지도, 적절하지도 않다. Emacs24의 기본 패키지 관리자는 <span class='live_link'><a href='http://wiki.nacyot.com/documents/ruby'>루비</a></span>와 비교하면 <span class='dead_link'><a href='http://wiki.nacyot.com/documents/gem' rel='noindex,nofollow'>Gem</a></span>에 해당한다. 루비에서 <span class='dead_link'><a href='http://wiki.nacyot.com/documents/cask' rel='noindex,nofollow'>Cask</a></span>의 역할은 Gem이 아니라 <span class='live_link'><a href='http://wiki.nacyot.com/documents/bundler'>Bundler</a></span>의 역할과 같다. Cask는 각 패키지의 의존성을 패키지 단위로 관리해주고, 패키지나 <span class='live_link'><a href='http://wiki.nacyot.com/documents/emacs'>Emacs</a></span>를 해당하는 의존성을 바탕으로 실행할 수 있도록 도와주는 도구이다.</p>



<p>Cask는 이러한 의존성 관리를 크게 두 방향에서 사용할 수 있도록 해준다. 먼저 하나는 Bundler와 같이 프로젝트 단위로 자신의 의존성을 정의하고 프로젝트를 개발할 수 있는 환경을 만들어주는 역할이다. 두번째는 Emacs를 에디터로 사용하는 사람들의 입장에서 패키지들을 체계적으로 관리할 수 있게 도와준다. 이 글에서는 Cask를 통해서 Emacs 환경 설정을 관리하는 방법에 대해서 다룬다.</p>

<h2><a name='cask-설치'>Cask 설치</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h2>

<p>(참고: Cask는 Emacs24 이상에서만 사용가능하다) Cask는 아래 명령어로 설치할 수 있다. 시스템에 파이썬이 설치되어있어야한다.</p>
<div class="highlight"><pre><span id="line-1"><span class="nv">$ </span>curl -fsSkL https://raw.github.com/cask/cask/master/go <span class="p">|</span> python
</span></pre></div>
<p><span class='dead_link'><a href='http://wiki.nacyot.com/documents/mac' rel='noindex,nofollow'>Mac</a></span>에서 <span class='live_link'><a href='http://wiki.nacyot.com/documents/homebrew'>Homebrew</a></span>를 사용하고 있다면 brew 명령어를 사용해서 설치하는 방법도 있다.</p>
<div class="highlight"><pre><span id="line-1"><span class="nv">$ </span>brew install cask
</span></pre></div>
<p>정상적으로 설치되었는지 확인해본다.</p>
<div class="highlight"><pre><span id="line-1"><span class="nv">$ </span>cask --version
</span><span id="line-2">0.7.0
</span></pre></div>
<h2><a name='cask-사용해보기'>Cask 사용해보기</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h2>

<p>본적적인 <code>.emacs.d</code> 환경설정에 앞서 cask를 간단히 사용해보자. 임의의 위치에 cask를 테스트해볼 디렉터리를 만든다. 여기서는 <code>~/tmp/cask</code>를 사용한다.</p>
<div class="highlight"><pre><span id="line-1"><span class="nv">$ </span><span class="nb">cd</span> ~/tmp/cask
</span></pre></div>
<p><code>init</code> 명령어를 통해서 기본 설정을 포함한 Cask 파일 생성할 수 있다.</p>
<div class="highlight"><pre><span id="line-1"><span class="nv">$ </span>cask init
</span><span id="line-2"><span class="nv">$ </span>head Cask
</span><span id="line-3"><span class="o">(</span><span class="nb">source </span>gnu<span class="o">)</span>
</span><span id="line-4"><span class="o">(</span><span class="nb">source </span>melpa<span class="o">)</span>
</span><span id="line-5">
</span><span id="line-6"><span class="o">(</span>depends-on <span class="s2">&quot;bind-key&quot;</span><span class="o">)</span>
</span><span id="line-7"><span class="o">(</span>depends-on <span class="s2">&quot;cask&quot;</span><span class="o">)</span>
</span><span id="line-8"><span class="o">(</span>depends-on <span class="s2">&quot;dash&quot;</span><span class="o">)</span>
</span><span id="line-9"><span class="o">(</span>depends-on <span class="s2">&quot;drag-stuff&quot;</span><span class="o">)</span>
</span><span id="line-10"><span class="o">(</span>depends-on <span class="s2">&quot;exec-path-from-shell&quot;</span><span class="o">)</span>
</span><span id="line-11"><span class="o">(</span>depends-on <span class="s2">&quot;expand-region&quot;</span><span class="o">)</span>
</span><span id="line-12"><span class="o">(</span>depends-on <span class="s2">&quot;f&quot;</span><span class="o">)</span>
</span><span id="line-13">...
</span></pre></div>
<p><code>head</code>로 초기화된 Cask 파일을 출력해보면 위와 같은 내용이 출력된다. Cask 파일에서 사용하는 명령은 기본적으로 <code>source</code>와 <code>depends-on</code> 함수이다. 일단 <code>source</code>는 패키지를 가져오는 저장소를 의미하고 <code>depends-on</code>은 사용하는 패키지를 정의한다는 정도만 이해하고 넘어간다.</p>

<p>이제 <code>cask</code> 명령을 통해서 의존성을 설치한다.</p>
<div class="highlight"><pre><span id="line-1"><span class="nv">$ </span>cask
</span><span id="line-2">Wrote /home/nacyot/Dropbox/programmings/sandbox/cask/.cask/24.3.1/elpa/archives/gnu/archive-contents
</span><span id="line-3">Wrote /home/nacyot/Dropbox/programmings/sandbox/cask/.cask/24.3.1/elpa/archives/melpa/archive-contents
</span></pre></div>
<p>의존성이 정상적으로 설치되었는지 살펴본다. 의존성은 기본적으로 cask 명령어를 실행한 위치의 Caskfile을 사용해서 설치되며, 설치 위치는 명령어를 실행한 디렉터리 아래의 <code>.cask</code>가 된다.</p>
<div class="highlight"><pre><span id="line-1"><span class="nv">$ </span>ls .cask/24.3.1/elpa/
</span><span id="line-2">archives                           flycheck-cask-20140118.923        popwin-20140426.659
</span><span id="line-3"><span class="nb">bind</span>-key-20140414.1744             git-commit-mode-20140313.1504     prodigy-20140421.2359
</span><span id="line-4">cask-20140324.15                   git-rebase-mode-20140313.1504     projectile-20140427.251
</span><span id="line-5">dash-20140407.253                  htmlize-20130207.1202             s-20131223.944
</span><span id="line-6">diminish-20091203.1012             idle-highlight-mode-20120920.948  shut-up-20140211.521
</span><span id="line-7">drag-stuff-20140121.723            magit-20140416.1539               smartparens-20140414.606
</span><span id="line-8">epl-20140405.51                    multiple-cursors-20140418.815     smex-20140425.1314
</span><span id="line-9"><span class="nb">exec</span>-path-from-shell-20140219.104  nyan-mode-20120710.2200           use-package-20140317.1213
</span><span id="line-10">expand-region-20140406.324         package-build-20140422.803        web-mode-20140425.1520
</span><span id="line-11">f-20140220.21                      pallet-20140413.1345              yasnippet-20140314.255
</span><span id="line-12">flycheck-20140422.657              pkg-info-20140405.50
</span></pre></div>
<p>정상적으로 설치된 것을 알 수 있다. 이제 이러한 패키지들을 바탕으로 emacs를 실행시켜보자.</p>
<div class="highlight"><pre><span id="line-1"><span class="nv">$ </span>cask <span class="nb">exec </span>emacs
</span></pre></div>
<p>이렇게 Emacs를 실행하면 기존의 설정에 추가적으로 현재 Cask 파일의 의존성이 로드된다.</p>

<h2><a name='cask를-활용한-emacs-환경설정'>Cask를 활용한 Emacs 환경설정</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h2>

<p>여기까지 이야기한 내용은 실질적으로 특정 프로젝트에서 의존성을 관리하는 방법에 가깝다. 지금부터는 전역적인 Emacs 사용자 설정을 다룰 것이다.</p>

<p><span class='dead_link'><a href='http://wiki.nacyot.com/documents/emacs23' rel='noindex,nofollow'>Emacs23</a></span> 이후 버전의 환경설정은 기본적으로 <code>~/.emacs.d/init.el</code> 파일을 거쳐서 실행된다. 따라서 먼저 Cask 초기화 코드를 이 파일에 추가해준다.</p>
<div class="highlight"><pre><span id="line-1"><span class="p">(</span><span class="n">require</span> <span class="err">&#39;</span><span class="n">cask</span> <span class="s">&quot;~/.cask/cask.el&quot;</span><span class="p">)</span>
</span><span id="line-2"><span class="p">(</span><span class="n">cask</span><span class="o">-</span><span class="n">initialize</span><span class="p">)</span>
</span></pre></div>
<p>먼저 첫번째 줄에서는 앞서 설치한 <code>cask.el</code>을 로드한다. 로드 경로에서도 알 수 있듯이 cask는 기본적으로 홈 디렉터리 바로 아래의 <code>.cask</code>에 설치된다(다른 위치에 설치했다면 물론 해당하는 경로를 지정한다). 다음 줄에서는 <code>cask-initialize</code> 함수를 호출해 cask를 초기화한다. 이 때 cask를 환경설정에 대해서 초기화하기 위한 Cask 파일이 필요하다. 이 파일은 <code>~/.emacs.d/Cask</code>에 위치해야한다.</p>

<h2><a name='caskfile-살펴보기'>Caskfile 살펴보기</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h2>

<p>여기서는 Cask 파일을 정의한다.</p>
<div class="highlight"><pre><span id="line-1"><span class="p">(</span><span class="n">source</span> <span class="n">gnu</span><span class="p">)</span>
</span><span id="line-2"><span class="p">(</span><span class="n">source</span> <span class="n">melpa</span><span class="p">)</span>
</span><span id="line-3"><span class="p">(</span><span class="n">source</span> <span class="n">marmalade</span><span class="p">)</span>
</span><span id="line-4">
</span><span id="line-5"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;ruby-mode&quot;</span><span class="p">)</span>
</span><span id="line-6"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;rspec-mode&quot;</span><span class="p">)</span>
</span><span id="line-7"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;robe&quot;</span><span class="p">)</span>
</span><span id="line-8"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;rinari&quot;</span><span class="p">)</span>
</span><span id="line-9"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;magit&quot;</span> <span class="s">&quot;0.8.1&quot;</span><span class="p">)</span>
</span><span id="line-10"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;ox-reveal&quot;</span> <span class="o">:</span><span class="n">git</span> <span class="s">&quot;git@github.com:yjwen/org-reveal.git&quot;</span><span class="p">)</span>
</span></pre></div>
<p>앞서도 이야기했지만 Caskfile에서 사용할 수 있는 기본적인 함수는 <code>source</code>와 <code>depends-on</code>이다. 다른 함수들도 있지만 일반적으로 환경설정을 위한 용도에서는 사용하지 않는다.</p>

<h3><a name='source'>source</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h3>

<p>먼저, source 함수는 패키지를 가져올 저장소를 지정하는 명령어로 아래와 같이 사용할 수 있다.</p>
<div class="highlight"><pre><span id="line-1"><span class="p">(</span><span class="n">source</span> <span class="n">ALIAS</span><span class="p">)</span>
</span><span id="line-2"><span class="p">(</span><span class="n">source</span> <span class="n">NAME</span> <span class="n">URL</span><span class="p">)</span>
</span></pre></div>
<p>실제로는 아래와 같이 사용한다.</p>
<div class="highlight"><pre><span id="line-1"><span class="p">(</span><span class="n">source</span> <span class="n">melpa</span><span class="p">)</span>
</span><span id="line-2"><span class="p">(</span><span class="n">source</span> <span class="s">&quot;melpa&quot;</span> <span class="s">&quot;http://melpa.milkbox.net/packages/&quot;</span><span class="p">)</span>
</span></pre></div>
<p>패키지가 인식할 수 있는 ALIAS를 사용하면 URL을 지정하지 않아도 된다. 사용할 수 있는 ALIAS는 아래와 같다.</p>
<div class="highlight"><pre><span id="line-1"><span class="n">gnu</span> <span class="p">(</span><span class="n">http</span><span class="o">:</span><span class="c1">//elpa.gnu.org/packages/)</span>
</span><span id="line-2"><span class="n">melpa</span> <span class="p">(</span><span class="n">http</span><span class="o">:</span><span class="c1">//melpa.milkbox.net/packages/)</span>
</span><span id="line-3"><span class="n">marmalade</span> <span class="p">(</span><span class="n">http</span><span class="o">:</span><span class="c1">//marmalade-repo.org/packages/)</span>
</span><span id="line-4"><span class="n">SC</span> <span class="p">(</span><span class="n">http</span><span class="o">:</span><span class="c1">//joseito.republika.pl/sunrise-commander/)</span>
</span><span id="line-5"><span class="n">org</span> <span class="p">(</span><span class="n">http</span><span class="o">:</span><span class="c1">//orgmode.org/elpa/)</span>
</span></pre></div>
<p>gnu, melpa, marmalade는 주로 사용하므로 지정해두는 게 좋다.</p>

<h3><a name='depends-on'>depends-on</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h3>

<p><code>depends-on</code>은 사용하고자 하는 패키지를 지정하는 함수이다. 예를 들어 <code>ruby-mode</code> 패키지를 사용하고자 하면 아래와 같이 사용한다.</p>
<div class="highlight"><pre><span id="line-1"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;ruby-mode&quot;</span><span class="p">)</span>
</span></pre></div>
<p>위와 같이 <code>ruby-mode</code>를 지정하면 위에서 source에서 지정한 저장소에서 해당하는 패키지를 찾아 설치한다. 이 때 필요한 경우 아래와 같이 특정 버전을 강제할 수 있다.</p>
<div class="highlight"><pre><span id="line-1"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;magit&quot;</span> <span class="s">&quot;0.8.1&quot;</span><span class="p">)</span>
</span></pre></div>
<p>기본 패키지 관리자에 비해서 가장 큰 장점 중 하나는 git로 관리되는 패키지를 직접 지정할 수 있다는 점이다. 아래는는 공식 문서에서 제공하는 예시이다. <span class='live_link'><a href='http://wiki.nacyot.com/documents/git'>Git</a></span> 저장소를 지정했을 때 특정한 커밋이나 브랜치, 혹은 특정 파일들만 로드할 수 있도록 하는 법을 알 수 있다.</p>
<div class="highlight"><pre><span id="line-1"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;magit&quot;</span> <span class="o">:</span><span class="n">git</span> <span class="s">&quot;https://github.com/magit/magit.git&quot;</span><span class="p">)</span>
</span><span id="line-2"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;magit&quot;</span> <span class="o">:</span><span class="n">git</span> <span class="s">&quot;https://github.com/magit/magit.git&quot;</span> <span class="o">:</span><span class="n">ref</span> <span class="s">&quot;7j3bj4d&quot;</span><span class="p">)</span>
</span><span id="line-3"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;magit&quot;</span> <span class="o">:</span><span class="n">git</span> <span class="s">&quot;https://github.com/magit/magit.git&quot;</span> <span class="o">:</span><span class="n">branch</span> <span class="s">&quot;next&quot;</span><span class="p">)</span>
</span><span id="line-4"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;magit&quot;</span> <span class="o">:</span><span class="n">git</span> <span class="s">&quot;https://github.com/magit/magit.git&quot;</span> <span class="o">:</span><span class="n">files</span> <span class="p">(</span><span class="s">&quot;*.el&quot;</span> <span class="p">(</span><span class="o">:</span><span class="n">exclude</span> <span class="s">&quot;magit-svn.el&quot;</span><span class="p">)))</span>
</span></pre></div>
<h2><a name='cask'>cask</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h2>

<p>필요한 패키지 설정이 모두 끝났으면 작업 디렉토리를 <code>~/.emacs.d</code>로 옮겨서 <code>cask</code> 명령을 실행한다. 이를 통해서 지정한 패키지들을 모두 설치할 수 있다. 하나 알아둬야할 점은 명시적으로 cask 명령을 emacs 외부에서 실행하지 않으면 Emacs 실행 시 해당하는 패키지가 적용되지 않는다는 점이다.</p>

<p>추가적으로 모든 패키지를 업데이트하고자 할 때는 <code>cask update</code> 명령어를 사용한다.</p>

<h2><a name='기타'>기타</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h2>

<h3><a name='pallet-패키지(emacs-안에서-패키지-관리)'>pallet 패키지(Emacs 안에서 패키지 관리)</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h3>

<blockquote>
<p><strong>주의</strong> : pallet 명령어 사용시 Cask 파일이 변경되는 경우가 있다. 이 때 git 저장소를 지정해둔 정보가 삭제될 가능성이 있다. <a href="https://gist.github.com/nacyot/2387fd61e203b30e5f57">Cask.diff</a> 참조.</p>
</blockquote>

<p><span class='dead_link'><a href='http://wiki.nacyot.com/documents/pallet' rel='noindex,nofollow'>pallet</a></span> 패키지와 함께 사용하면 좀 더 편리하게 사용할 수 있다. 예를 들어 <code>M-x pallet init</code> 명령어를 실행하면 현재 <code>package.el</code>로 설치된 패키지들을 Cask 파일에 입력해준다. 앞서 Cask 파일은 <code>cask install</code> 명령을 실행하지 않으면 바로 반영이 되지 않는다고 하였는데, pallet 패키지를 사용하면 Cask 파일을 수정하고, <code>M-x pallet-install</code> 명령어를 실행하면 바로 패키지가 설치된다. 또한 <code>M-x package-install</code>이나 <code>M-x list-packages</code> 명령어로 설치한 패키지들을 자동을 Cask 파일로 옮겨준다.</p>

<h3><a name='init-loader를-활용한-emacs-초기화'>init-loader를 활용한 Emacs 초기화</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h3>

<p>앞서 이야기한 바와 같이 Emacs 초기화는 기본적으로 <code>init.el</code>을 거쳐가며 대부분의 설정파일은 여기에서 이루어진다. Cask 사용 시에도 Cask를 초기화하고, Cask를 통해 읽어들인 각 패키지에 대한 설정은 <code>init.el</code>파일에서 하면 된다. 하지만 이 역시 설정할 내용이 많을 때는 <code>init.el</code> 파일이 매우 복잡해지기 때문에 init-loader를 사용해 좀 더 편리하게 관리할 수 있다.</p>

<p><span class='live_link'><a href='http://wiki.nacyot.com/documents/init-loader'>init-loader</a></span> 패키지를 사용하려면 먼저 Cask 파일에 추가해준다.</p>
<div class="highlight"><pre><span id="line-1"><span class="p">(</span><span class="n">depends</span><span class="o">-</span><span class="n">on</span> <span class="s">&quot;init-loader&quot;</span><span class="p">)</span>
</span></pre></div>
<p><code>init.el</code>에는 아래 내용을 추가한다.</p>
<div class="highlight"><pre><span id="line-1"><span class="p">(</span><span class="n">init</span><span class="o">-</span><span class="n">loader</span><span class="o">-</span><span class="n">load</span> <span class="s">&quot;~/.emacs.d/init-loader/&quot;</span><span class="p">)</span>
</span></pre></div>
<p><code>init-loader-load</code>는 초기화 파일들을 위치시킬 디렉터리를 지정한다. 여기서는 <code>~/.emacs.d/init-loader</code>를 지정했으면 원하는 디렉터리를 지정하면 된다. 위와 같이 설정하면 init-loader은 해당하는 폴더 아래의 숫자 2개로 시작하는 모든 파일을 로드한다.</p>
<div class="highlight"><pre><span id="line-1"><span class="mo">00</span><span class="n">_util</span><span class="p">.</span><span class="n">el</span>
</span><span id="line-2"><span class="mo">01</span><span class="n">_ik</span><span class="o">-</span><span class="n">cmd</span><span class="p">.</span><span class="n">el</span>
</span><span id="line-3"><span class="mi">21</span><span class="n">_javascript</span><span class="p">.</span><span class="n">el</span>
</span><span id="line-4"><span class="mi">99</span><span class="n">_global</span><span class="o">-</span><span class="n">keys</span><span class="p">.</span><span class="n">el</span>
</span></pre></div>
<p>위와 같이 적절히 초기화 설정을 분리하면 된다. 일반적으로는 패키지 단위로 설정을 관리하는 게 좋다.</p>

<h3><a name='설정-파일-컴파일-하기'>설정 파일 컴파일 하기</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h3>

<p>일반적으로 패키지는 설치과정에서 컴파일된다. 하지만 다른 설정 파일이 많아질 수록 Emacs 시작시간도 길어진다. 필요하다면 init-loader 폴더나 설정 파일을 보관하는 다른 폴더는 아래 명령어로 컴파일 해두는 게 좋다.</p>
<div class="highlight"><pre><span id="line-1"><span class="n">C</span><span class="o">-</span><span class="n">u</span> <span class="mi">0</span> <span class="n">M</span><span class="o">-</span><span class="n">x</span> <span class="n">byte</span><span class="o">-</span><span class="n">recompile</span><span class="o">-</span><span class="n">directory</span>
</span></pre></div>
<h2><a name='결론'>결론</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h2>

<p>Emacs를 사용하기 어렵게 만드는 것 중 하나는 언제나 환경설정이었다. Emacs는 정말 방대한 툴이고, 그만큼 사람에 따라서 수십에서 심지어는 수백개 패키지를 사용하는 것도 이상하지 않다. 일반적으로 Emacs를 잘 사용한다는 데는 단순히 단축키를 수십개 더 외우고 있느냐 보다 이런 다양한 패키지들을 얼마나 잘 정리하고 활용하는 지가 중요하다. Cask 공식 문서를 보면 아마 대부분의 Emacs 사용자가 겪어왔을 기존의 패키지 관련 툴들에 관한 이야기가 나온다. <span class='dead_link'><a href='http://wiki.nacyot.com/documents/el-get' rel='noindex,nofollow'>El-get</a></span>이 있었고, Emacs24에서 공식으로 포함된 <span class='dead_link'><a href='http://wiki.nacyot.com/documents/package.el' rel='noindex,nofollow'>package.el</a></span> 같은 툴도 있었고, 그리고 저장소의 서브 모듈을 사용하는 방법이나 의존 패키지를 통째로 패키지에 포함해서 의존성을 정의하는 방법도 사용해왔다. 필자도 대부분의 방법을 경험했지만 결국엔 두손두발 다 놓게 만드는 게 Emacs 설정이다. <span class='dead_link'><a href='http://wiki.nacyot.com/documents/elisp' rel='noindex,nofollow'>elisp</a></span>도 잘 모르고, 한 번 아무리 공을 들여서 설정해봤자, 시간이 지나면 역시 관리는 안 된다.</p>

<p>그런 와중에 Cask는 Emacs 사용자에게 단비와 같은 패키지이다. 아마.</p>

<h2><a name='참고자료'>참고자료</a> <span class='to_toc'><a href='#toc'><i class='fa fa-flag'></i></a></span></h2>

<ul>
<li><a href="http://cask.emacs.kr/">Cask 공식 문서</a></li>
<li><a href="http://d.hatena.ne.jp/naoya/20140424/1398318293">Cask - naoyaのはてなダイアリー</a></li>
<li><a href="https://github.com/rdallasgray/pallet">Pallet</a></li>
<li><a href="https://github.com/netpyoung/netpyoung.emacs.d">netpyoung/.emacs.d</a></li>
<li><a href="https://github.com/nacyot/.emacs.d">nacyot/.emacs.d</a></li>
</ul>

</div>
<div class='footer'>
<hr>
<div class='author'>
<h1>nacyot</h1>
프로그래머(29)
</div>
<div class='share'>
<h1>Share this post</h1>
<!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style addthis_32x32_style">
<a class="addthis_button_facebook"></a>
<a class="addthis_button_twitter"></a>
<a class="addthis_button_google_plusone_share"></a>
<a class="addthis_button_pocket"></a>
<a class="addthis_button_print"></a>
<a class="addthis_button_compact"></a><a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":false};</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-52ffce6f41e2b5e2"></script>
<!-- AddThis Button END -->
</div>
</div>
<hr>
<div id='disqus_thread'>
<script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'nacyot'; // required: replace example with your forum shortname
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</div>
<div class='navigation'>
<div class='prevnav'>
<div class='fa fa-chevron-left'></div>
이전 글
<a href='/articles/2014-05-08-docker-registry-introduction/' rel='prev'>도커 레지스트리(Docker Registry) 설치하기 + S3 연동</a>
</div>
<div class='nextnav'>
<div class='fa fa-chevron-right'></div>
다음 글:
<a href='/articles/2014-07-17-graphite-with-dokcer/' rel='next'>그라파이트(Grahpite) + 그라파나(Grafana) 모니터링 시스템 구축 with Docker</a>
</div>
<br style='clear:both'>
</div>
</div>
</div>
</div>
<div class='col-lg-2 col-md-1 col-sm-1 col-xs-1'></div>
</div>

<div class='row'>
<div class='col-lg-12'>
<hr>
<div class='site-footer'>
<p>
All content copyright
<a href='http://nacyot.com'>nacyot</a>
© 2014 • All rights reserved.
&nbsp;&nbsp;&nbsp;
<a class='icon' href='http://nacyot.com'>
<i class='fa-home fa fa-2x'></i>
</a>
<a class='icon' href='https://twitter.com/nacyo_t'>
<i class='fa-twitter fa fa-2x'></i>
</a>
<a class='icon' href='https://github.com/nacyot'>
<i class='fa-github fa fa-2x'></i>
</a>
<a class='icon' href='/feed.xml' style='color: orange'>
<i class='fa-rss fa fa-2x'></i>
</a>
</p>
</div>
</div>
</div>

</body>
</html>

<script>
  $('.toc').toc({
    'selectors': 'h2,h3,h4,h5',
    'container': '.article'
  });
</script>
