
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We shall say that an n-digit number is pandigital if it makes use of all the digits 1 to n exactly once; for example, the 5-digit number, 15234, is 1 through 5 pandigital.</p>
<p>The product 7254 is unusual, as the identity, 39 Ã— 186 = 7254, containing multiplicand, multiplier, and product is 1 through 9 pandigital.</p>
<p>Find the sum of all products whose multiplicand/multiplier/product identity can be written as a 1 through 9 pandigital.
HINT: Some products can be obtained in more than one way so be sure to only include it once in your sum.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[4]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="mi">39</span> <span class="o">*</span> <span class="mi">186</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[4]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
7254
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[5]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="mf">12345.</span><span class="n">to_s</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[5]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
&quot;12345&quot;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[6]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="mf">12345.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[6]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[7]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="mf">123456789.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[7]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
[&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[8]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">target</span> <span class="o">=</span> <span class="mi">53241</span>

<span class="mf">123456789.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="n">target</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="p">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[8]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
[true, true, true, true, true, true, true, true, true]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[9]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="mf">123456789.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="err">?</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="n">target</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="p">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[9]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
true
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[88]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">pen_digital</span><span class="err">?</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">false</span> <span class="k">if</span> <span class="n">target</span><span class="o">.</span><span class="n">to_s</span> <span class="o">=~</span> <span class="o">/</span><span class="mi">0</span><span class="o">/</span>
  <span class="k">return</span> <span class="mf">123456789.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="err">?</span> <span class="p">{</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span> <span class="n">target</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="p">}</span>
<span class="n">end</span>

<span class="n">pen_digital</span><span class="err">?</span> <span class="mi">12345</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[88]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
true
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[89]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">pen_digital</span><span class="err">?</span> <span class="mi">29382</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[89]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
false
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[90]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">pen_digital_string</span><span class="err">?</span><span class="p">(</span><span class="n">target</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">false</span> <span class="k">if</span> <span class="mf">123456789.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="err">?</span> <span class="n">do</span> <span class="o">|</span><span class="n">item</span><span class="o">|</span>
    <span class="n">target</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s">&quot;*=&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span>
  <span class="n">end</span> <span class="o">==</span> <span class="n">false</span>

  <span class="n">target</span> <span class="o">=~</span> <span class="o">/</span><span class="p">(</span>\<span class="n">d</span><span class="o">*</span><span class="err">?</span><span class="p">)</span>\<span class="o">*</span><span class="p">(</span>\<span class="n">d</span><span class="o">*</span><span class="err">?</span><span class="p">)</span><span class="o">=</span><span class="p">(</span>\<span class="n">d</span><span class="o">*</span><span class="p">)</span><span class="err">$</span><span class="o">/</span>
  <span class="k">return</span> <span class="n">true</span> <span class="k">if</span> <span class="p">((</span><span class="err">$</span><span class="mf">1.</span><span class="n">to_i</span> <span class="o">*</span> <span class="err">$</span><span class="mf">2.</span><span class="n">to_i</span><span class="p">)</span> <span class="o">==</span> <span class="err">$</span><span class="mf">3.</span><span class="n">to_i</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">false</span>
<span class="n">end</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[91]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">pen_digital_string</span><span class="err">?</span><span class="p">(</span><span class="s">&quot;123*123*1234&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[91]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
false
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[92]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="mi">39</span> <span class="o">*</span> <span class="mi">186</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[92]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
7254
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[93]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">pen_digital_string</span><span class="err">?</span><span class="p">(</span><span class="s">&quot;39*186=7254&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[93]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
true
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[16]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">pen_digital_string</span><span class="err">?</span><span class="p">(</span><span class="s">&quot;123*456=789&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[16]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
false
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[98]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">find_pen_digit_string32</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">unless</span> <span class="n">pen_digital</span><span class="err">?</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>

  <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="n">source</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span> <span class="o">-</span> <span class="n">num</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">i</span><span class="o">.</span><span class="n">to_i</span><span class="p">}</span>

  <span class="n">multiplicand</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">combination</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
  <span class="n">multiplicand</span><span class="o">.</span><span class="n">each</span> <span class="n">do</span> <span class="o">|</span><span class="n">com</span><span class="o">|</span>
    <span class="n">multiplier</span> <span class="o">=</span> <span class="n">source</span> <span class="o">-</span> <span class="n">com</span>
    <span class="n">left</span> <span class="o">=</span> <span class="n">com</span><span class="o">.</span><span class="n">permutation</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="o">|</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">]}</span>
    <span class="n">right</span> <span class="o">=</span> <span class="n">multiplier</span><span class="o">.</span><span class="n">permutation</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">|</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">]}</span>

    <span class="n">strings</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="n">do</span> <span class="o">|</span><span class="n">arr</span><span class="o">|</span>
      <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">join</span> <span class="o">+</span> <span class="s">&quot;*&quot;</span> <span class="o">+</span> <span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">join</span> <span class="o">+</span> <span class="s">&quot;=&quot;</span> <span class="o">+</span> <span class="n">num</span><span class="o">.</span><span class="n">to_s</span>
    <span class="n">end</span>

    <span class="n">strings</span><span class="o">.</span><span class="n">each</span> <span class="n">do</span> <span class="o">|</span><span class="n">string</span><span class="o">|</span>
      <span class="k">return</span> <span class="n">num</span> <span class="k">if</span> <span class="n">pen_digital_string</span><span class="err">?</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
    <span class="n">end</span>
  <span class="n">end</span>

  <span class="k">return</span> 
<span class="n">end</span>

<span class="n">find_pen_digit_string</span><span class="p">(</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[99]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">find_pen_digit_string</span><span class="p">(</span><span class="mi">7254</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[99]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
7254
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[117]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>

<span class="p">(</span><span class="mf">4140.</span><span class="o">.</span><span class="mi">9876</span><span class="p">)</span><span class="o">.</span><span class="n">lazy</span><span class="o">.</span><span class="n">each</span> <span class="n">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
  <span class="n">temp</span> <span class="o">=</span> <span class="n">find_pen_digit_string</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
  <span class="n">result</span> <span class="o">&lt;&lt;</span> <span class="n">temp</span> <span class="k">if</span> <span class="n">temp</span> <span class="o">!=</span> <span class="n">nil</span>
<span class="n">end</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[117]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
4140..9876
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[118]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">result</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[118]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
[4396, 5346, 5796, 7254, 7632]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[119]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">result</span><span class="o">.</span><span class="n">inject</span> <span class="o">&amp;</span><span class="p">:</span><span class="o">+</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[119]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
30424
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[145]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="k">def</span> <span class="nf">find_pen_digit_string41</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">unless</span> <span class="n">pen_digital</span><span class="err">?</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>

  <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="n">source</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span> <span class="o">-</span> <span class="n">num</span><span class="o">.</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">i</span><span class="o">|</span> <span class="n">i</span><span class="o">.</span><span class="n">to_i</span><span class="p">}</span>

  <span class="n">multiplicand</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="n">combination</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
  <span class="n">multiplicand</span><span class="o">.</span><span class="n">each</span> <span class="n">do</span> <span class="o">|</span><span class="n">com</span><span class="o">|</span>
    <span class="n">multiplier</span> <span class="o">=</span> <span class="n">source</span> <span class="o">-</span> <span class="n">com</span>
    <span class="n">left</span> <span class="o">=</span> <span class="n">com</span><span class="o">.</span><span class="n">permutation</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="o">|</span> <span class="p">[</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">]}</span>
    <span class="n">right</span> <span class="o">=</span> <span class="n">multiplier</span><span class="o">.</span><span class="n">permutation</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">{</span><span class="o">|</span><span class="n">a</span><span class="o">|</span> <span class="p">[</span><span class="n">a</span><span class="p">]}</span>

    <span class="n">strings</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="n">right</span><span class="p">)</span><span class="o">.</span><span class="n">map</span> <span class="n">do</span> <span class="o">|</span><span class="n">arr</span><span class="o">|</span>
      <span class="n">arr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">join</span> <span class="o">+</span> <span class="s">&quot;*&quot;</span> <span class="o">+</span> <span class="n">arr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">join</span> <span class="o">+</span> <span class="s">&quot;=&quot;</span> <span class="o">+</span> <span class="n">num</span><span class="o">.</span><span class="n">to_s</span>
    <span class="n">end</span>

    <span class="n">strings</span><span class="o">.</span><span class="n">each</span> <span class="n">do</span> <span class="o">|</span><span class="n">string</span><span class="o">|</span>
      <span class="k">return</span> <span class="n">num</span> <span class="k">if</span> <span class="n">pen_digital_string</span><span class="err">?</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
    <span class="n">end</span>
  <span class="n">end</span>

  <span class="k">return</span> 
<span class="n">end</span>

<span class="n">find_pen_digit_string41</span><span class="p">(</span><span class="s">&quot;1234&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[146]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>

<span class="p">(</span><span class="mf">1234.</span><span class="o">.</span><span class="mi">9876</span><span class="p">)</span><span class="o">.</span><span class="n">lazy</span><span class="o">.</span><span class="n">each</span> <span class="n">do</span> <span class="o">|</span><span class="n">i</span><span class="o">|</span>
  <span class="n">temp</span> <span class="o">=</span> <span class="n">find_pen_digit_string41</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
  <span class="n">result</span> <span class="o">&lt;&lt;</span> <span class="n">temp</span> <span class="k">if</span> <span class="n">temp</span> <span class="o">!=</span> <span class="n">nil</span>
<span class="n">end</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[146]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
1234..9876
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[147]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="n">result</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[147]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
[6952, 7852]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">
In&nbsp;[148]:
</div>
<div class="inner_cell">
    <div class="input_area">
<div class="highlight"><pre><span class="mi">30424</span> <span class="o">+</span> <span class="mi">6952</span> <span class="o">+</span> <span class="mi">7852</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area"><div class="prompt output_prompt">
    Out[148]:</div>


<div class="output_text output_subarea output_pyout">
<pre>
45228
</pre>
</div>

</div>

</div>
</div>

</div>