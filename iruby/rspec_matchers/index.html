
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="테스트-준비">테스트 준비</h2>
<p>일반적으로 테스트 파일은 프로그램 파일과 별개로 작성됩니다. 여기서는 편의상 pry 위에서 바로 테스트를 진행합니다. 따라서 이 글의 내용은 irb나 pry를 통해서 따라해볼 수 있습니다. 필요한 경우 먼저 rspec과 pry 패키지를 설치합니다</p>
<pre class="sh"><code>$ gem install rspec pry</code></pre>
<p>다음으로 pry를 실행합니다</p>
<pre><code>$ pry
[1] pry(main)&gt;</code></pre>
<p>다음으로 Matecher를 사용하기 위해 <code>rspec</code>과 <code>RSpec::Matchers</code>를 읽어들입니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[184]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">require</span> <span class="s">&#39;rspec&#39;</span>
<span class="n">include</span> <span class="n">RSpec</span><span class="p">::</span><span class="n">Matchers</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[184]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
Object
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="테스트-기초">테스트 기초</h2>
<p>테스트는 기본적으로 아래와 같은 형식으로 쓰여집니다</p>
<pre class="sourceCode ruby"><code class="sourceCode ruby">expect(actual).to be(expected)</code></pre>
<p>여기서 <code>actual</code>에는 실제로 테스트하고자 하는 객체가 들어가며, <code>expected</code>에는 예상하는 값이 들어갑니다. 그리고 <code>be</code>는 <code>actual</code>과 <code>expected</code>를 비교하기 위한 매쳐를 지정합니다</p>
<p>또한 단언문과 마찬가지로 테스트가 실패하면 예외를 발생시킵니다. 즉, 리턴값이 true라고 해서 테스트가 성공을 의미하는 게 아니며, 거꾸로 false라고 해서 실패를 의미하는 게 아닙니다. 테스트가 실패하면 <code>RSpec::Expectations::ExpectationNotMetError</code> 예외가 발생합니다.</p>
</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="동일값-테스트-매쳐">동일값 테스트 매쳐</h2>
<p>가장 기본적이고 가장 많이 쓰이는 매쳐는 실제값과 예상되는 값이 같은 지를 비교하는 매쳐입니다</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[185]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="c"># Equivalence</span>
<span class="n">expect</span><span class="p">(</span><span class="s">&quot;프로그래밍 언어 루비&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">eq</span><span class="p">(</span><span class="s">&quot;프로그래밍 언어 루비&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[185]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[186]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;프로그래밍 언어 루비&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">eql</span><span class="p">(</span><span class="s">&quot;프로그래밍 언어 루비&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[186]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[187]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;프로그래밍 언어 루비&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be</span> <span class="o">==</span> <span class="s">&quot;프로그래밍 언어 루비&quot;</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[187]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="동일성-테스트-매쳐">동일성 테스트 매쳐</h2>
<p><code>eq</code>가 실제값과 예상값이 같은지를 평가하는 매쳐라면, <code>equal</code>은 비교하는 두 객체가 같은 객체인지를 테스트합니다. 루비에선 같은 값을 가진 심볼은 항상 같은 객체입니다. 하지만 같은 값을 가지고 있더라도 별개로 생성된 문자열은 다른 문자열입니다. 따라서 같은 값을 가진 심볼은 동일성 테스트를 통과하지만, 아래 문자열 테스트는 실패합니다</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[188]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="c"># Identity</span>
<span class="n">expect</span><span class="p">(:</span><span class="n">Hello_world</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">equal</span><span class="p">(:</span><span class="n">Hello_world</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[188]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[189]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(:</span><span class="n">Hello_world</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be</span><span class="p">(:</span><span class="n">Hello_world</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[189]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[190]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Hello, World&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">equal</span><span class="p">(</span><span class="s">&quot;Hello, World&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt"></div>
<div class="box-flex1 output_subarea output_pyerr">
<pre>
<span class="ansired">RSpec::Expectations::ExpectationNotMetError</span>: 
expected #&lt;String:70158862817480&gt; =&gt; &quot;Hello, World&quot;
     got #&lt;String:70158862817540&gt; =&gt; &quot;Hello, World&quot;

Compared using equal?, which compares object identity,
but expected and actual are not the same object. Use
&#96;expect(actual).to eq(expected)&#96; if you don&apos;t care about
object identity in this example.


<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/rspec-expectations-2.14.5/lib/rspec/expectations/fail_with.rb:32:in &#96;fail_with&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/rspec-expectations-2.14.5/lib/rspec/expectations/handler.rb:34:in &#96;handle_matcher&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/rspec-expectations-2.14.5/lib/rspec/expectations/expectation_target.rb:34:in &#96;to&apos;</span>
<span class="ansigrey">(pry):450:in &#96;&lt;main&gt;&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:369:in &#96;eval&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:369:in &#96;evaluate_ruby&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:334:in &#96;handle_line&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:270:in &#96;block (2 levels) in eval&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:269:in &#96;catch&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:269:in &#96;block in eval&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:268:in &#96;catch&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:268:in &#96;eval&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/lib/iruby/backend.rb:35:in &#96;eval&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/lib/iruby/kernel.rb:105:in &#96;execute_request&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/lib/iruby/kernel.rb:57:in &#96;run&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/lib/iruby/command.rb:28:in &#96;run_kernel&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/lib/iruby/command.rb:15:in &#96;run&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/bin/iruby:6:in &#96;&lt;top (required)&gt;&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/bin/iruby:23:in &#96;load&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/bin/iruby:23:in &#96;&lt;main&gt;&apos;</span></pre>
</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="연산자-매쳐">연산자 매쳐</h2>
<p>동일값 테스트만큼 많이 사용되는 매쳐는 실제값과 예상값을 비교하는 연산자 매쳐입니다. 기본적으로 동일값을 비교하는 <code>==</code>을 비롯해 <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;=</code>, <code>&lt;</code> 등을 사용할 수 있습니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[191]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="c"># Comparisons</span>
<span class="n">expect</span><span class="p">(</span><span class="mi">100</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be</span> <span class="o">&gt;</span> <span class="mi">100</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[191]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[192]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="mi">100</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be</span> <span class="o">&lt;</span> <span class="mi">100</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[192]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>match</code>와 <code>=~</code>는 특정 문자열이 주어진 정규표현식에 매치되는 지 여부를 테스트합니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[193]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;나랏말 싸미 듕국과 달라&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">match</span><span class="p">(</span><span class="o">/</span><span class="err">듕국</span><span class="o">/</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[193]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
#&lt;MatchData &quot;듕국&quot;&gt;
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[194]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;나랏말 싸미 듕국과 달라&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be</span> <span class="o">=~</span> <span class="o">/</span><span class="err">듕국</span><span class="o">/</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[194]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
7
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="숫자-범위-매쳐">숫자 범위 매쳐</h2>
<p><code>be_within.of</code> 매쳐는 실제값이 예상값 +- 특정 범위에 포함되는 지 여부를 테스트합니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[195]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be_within</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="mi">100</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[195]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[196]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be_within</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="mi">100</span> <span class="o">+</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt"></div>
<div class="box-flex1 output_subarea output_pyerr">
<pre>
<span class="ansired">RSpec::Expectations::ExpectationNotMetError</span>: expected 100 to be within 5 of 106
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/rspec-expectations-2.14.5/lib/rspec/expectations/fail_with.rb:32:in &#96;fail_with&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/rspec-expectations-2.14.5/lib/rspec/expectations/handler.rb:36:in &#96;handle_matcher&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/rspec-expectations-2.14.5/lib/rspec/expectations/expectation_target.rb:34:in &#96;to&apos;</span>
<span class="ansigrey">(pry):463:in &#96;&lt;main&gt;&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:369:in &#96;eval&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:369:in &#96;evaluate_ruby&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:334:in &#96;handle_line&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:270:in &#96;block (2 levels) in eval&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:269:in &#96;catch&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:269:in &#96;block in eval&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:268:in &#96;catch&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/pry-1.0.0.pre1/lib/pry/pry_instance.rb:268:in &#96;eval&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/lib/iruby/backend.rb:35:in &#96;eval&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/lib/iruby/kernel.rb:105:in &#96;execute_request&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/lib/iruby/kernel.rb:57:in &#96;run&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/lib/iruby/command.rb:28:in &#96;run_kernel&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/lib/iruby/command.rb:15:in &#96;run&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/lib/ruby/gems/2.1.0/gems/iruby-0.1.7/bin/iruby:6:in &#96;&lt;top (required)&gt;&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/bin/iruby:23:in &#96;load&apos;</span>
<span class="ansigrey">/home/nacyot/.rbenv/versions/2.1.0/bin/iruby:23:in &#96;&lt;main&gt;&apos;</span></pre>
</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="타입-매쳐">타입 매쳐</h2>
<p>어떤 객체가 어떤 클래스로부터 만들어졌는지 테스트할 수 있습니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[197]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="c"># Types and classes</span>
<span class="n">expect</span><span class="p">(</span><span class="s">&quot;Ruby&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be_instance_of</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[197]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[198]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Ruby&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be_an_instance_of</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[198]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[199]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Ruby&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be_a</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[199]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[200]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Ruby&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be_kind_of</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[200]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="참거짓-매쳐">참거짓 매쳐</h2>
<p>어떤 객체가 참인지 거짓인지 테스트할 수 있습니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[201]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="c"># Truthiness and existentialism</span>
<span class="n">expect</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be_true</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[201]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[202]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="n">nil</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be_false</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[202]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="존재be-매쳐">존재(be) 매쳐</h2>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[203]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="n">true</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[203]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[204]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[204]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[205]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="n">nil</span><span class="p">)</span><span class="o">.</span><span class="n">not_to</span> <span class="n">be</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[205]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
false
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[206]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="n">nil</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be_nil</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[206]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="변화-매쳐">변화 매쳐</h2>
<p><code>change</code> 매쳐는 <code>expect</code>에 주어진 블록이 실행되었을 때 <code>change</code>에 주어진 블록의 평가 결과가 변화하는 지를 테스트합니다. 변화했다면 테스트가 통과합니다. 필요에 따라서 얼마만큼 변화했는지를 테스트할 수 있는 <code>by</code>나 <code>expect</code> 블록을 실행시키기 전의 값을 테스트할 수 있는 <code>from</code>, 평가한 이후의 값을 테스트 할 수 있는 <code>to</code> 메소드와 함께 사용될 수 있습니다</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[207]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">arr</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">expect</span><span class="p">{</span><span class="n">arr</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">change</span><span class="p">{</span><span class="n">arr</span><span class="o">.</span><span class="n">count</span><span class="p">}</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[207]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[208]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">{</span><span class="n">arr</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">change</span><span class="p">{</span><span class="n">arr</span><span class="o">.</span><span class="n">count</span><span class="p">}</span><span class="o">.</span><span class="n">by</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[208]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[209]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="nb">str</span> <span class="o">=</span> <span class="s">&quot;Hello, world.&quot;</span>
<span class="n">expect</span><span class="p">{</span> <span class="nb">str</span><span class="o">.</span><span class="n">upcase</span><span class="err">!</span> <span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">change</span><span class="p">{</span> <span class="nb">str</span> <span class="p">}</span><span class="o">.</span><span class="n">from</span><span class="p">(</span><span class="s">&quot;Hello, world.&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="s">&quot;HELLO, WORLD.&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[209]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="예외-메쳐">예외 메쳐</h2>
<p><code>expect</code>에 주어진 블록의 평가 결과가 예외를 일으키는 지 테스트합니다. expect가 블록을 받는다는 데 주의가 필요합니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[210]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="c"># Expecting errors</span>
<span class="n">expect</span><span class="p">{</span> <span class="k">raise</span> <span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">raise_error</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[210]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[211]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">{</span> <span class="n">non_existance</span> <span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">raise_error</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[211]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[212]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span> <span class="p">{</span> <span class="n">non_existance</span> <span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">raise_error</span><span class="p">(</span><span class="ne">NameError</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[212]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="have-매쳐">Have 매쳐</h2>
<p>컬렉션 객체가 몇 개의 항목을 가지고 있는 지 테스트합니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[213]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">arr</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[213]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
[&quot;H&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[214]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">have</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">items</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[214]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[215]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">have_exactly</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">items</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[215]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[216]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">have_at_least</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">items</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[216]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[217]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">have_at_most</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">items</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[217]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="have_key-매쳐">have_key 매쳐</h2>
<p>해시에 특정 키가 포함되어있는 지 테스트합니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[218]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">({</span><span class="n">name</span><span class="p">:</span> <span class="s">&quot;nacyot&quot;</span><span class="p">,</span> <span class="n">blog</span><span class="p">:</span> <span class="s">&quot;blog.nacyot.com&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">to</span> <span class="n">have_key</span><span class="p">(:</span><span class="n">name</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[218]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="포함-매쳐">포함 매쳐</h2>
<p>객체에 특정한 값이나 키가 포함되어있는 지 테스트합니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[219]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">to</span> <span class="n">be_include</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[219]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[220]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">({</span><span class="n">name</span><span class="p">:</span> <span class="s">&quot;nacyot&quot;</span><span class="p">,</span> <span class="n">blog</span><span class="p">:</span> <span class="s">&quot;blog.nacyot.com&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">to</span> <span class="n">be_include</span><span class="p">(:</span><span class="n">name</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[220]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[221]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">be_include</span><span class="p">(</span><span class="s">&quot;H&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[221]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="start_with-end_with-매쳐">start_with / end_with 매쳐</h2>
<p>객체의 처음이나 끝이 특정 항목으로 시작하거나 끝나는지 테스트합니다</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[222]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Hello, world&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">start_with</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[222]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[223]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Hello, world&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">end_with</span><span class="p">(</span><span class="s">&quot;world&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[223]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[224]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span><span class="o">.</span><span class="n">to</span> <span class="n">start_with</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[224]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[225]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span><span class="o">.</span><span class="n">to</span> <span class="n">end_with</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[225]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="커버-매쳐">커버 매쳐</h2>
<p>범위 객체가 특정 값을 포함하는 지 테스트합니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[226]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="mf">100.</span><span class="o">.</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">cover</span><span class="p">(</span><span class="mi">101</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[226]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[227]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="mf">100.</span><span class="o">.</span><span class="mi">1000</span><span class="p">)</span><span class="o">.</span><span class="n">not_to</span> <span class="n">cover</span><span class="p">(</span><span class="mi">99</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[227]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
false
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="respond_to-매쳐">respond_to 매쳐</h2>
<p>객체가 특정 메시지를 받을 수 있는 지 테스트 합니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[228]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">respond_to</span><span class="p">(:</span><span class="n">upcase</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[228]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="satisfy-매쳐">satisfy 매쳐</h2>
<p>블록의 평가 결과가 참인지를 평가합니다. 이 때 expect에 주어진 값이 평가 대상이 되며 satisfy 블록의 인자로 넘겨집니다. 이 블록이 참이면 테스트가 통과합니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[229]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="n">false</span><span class="p">)</span><span class="o">.</span><span class="n">to</span> <span class="n">satisfy</span><span class="p">{</span><span class="o">|</span><span class="n">value</span><span class="o">|</span> <span class="err">!</span><span class="n">value</span><span class="p">}</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[229]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="yielding">Yielding</h2>
<p>메소드 내에서 yield하는 부분에 대해서 테스트합니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[230]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span> <span class="p">{</span><span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="mf">5.</span><span class="n">tap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)}</span><span class="o">.</span><span class="n">to</span> <span class="n">yield_control</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[230]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[231]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="mf">5.</span><span class="n">tap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">yield_with_args</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[231]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[232]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="mf">5.</span><span class="n">tap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">yield_with_args</span><span class="p">(</span><span class="n">Fixnum</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[232]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[233]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="s">&quot;a string&quot;</span><span class="o">.</span><span class="n">tap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">yield_with_args</span><span class="p">(</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[233]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[234]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">yield_successive_args</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[234]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[235]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span> <span class="p">{</span> <span class="o">|</span><span class="n">b</span><span class="o">|</span> <span class="p">{</span> <span class="p">:</span><span class="n">a</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span> <span class="p">:</span><span class="n">b</span> <span class="o">=&gt;</span> <span class="mi">2</span> <span class="p">}</span><span class="o">.</span><span class="n">each</span><span class="p">(</span><span class="o">&amp;</span><span class="n">b</span><span class="p">)</span> <span class="p">}</span><span class="o">.</span><span class="n">to</span> <span class="n">yield_successive_args</span><span class="p">([:</span><span class="n">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[:</span><span class="n">b</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[235]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
true
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="predicate-matchers">Predicate matchers</h2>
<p>참거짓을 리턴하는 메소드를 사용해 테스트합니다. 이 때 매쳐 이름은 <code>be_메소드이름</code>이 됩니다.</p>
</div>
<div class="cell border-box-sizing code_cell vbox">
<div class="input hbox">
<div class="prompt input_prompt">
In&nbsp;[241]:
</div>
<div class="input_area box-flex1">
<div class="highlight"><pre><span class="n">expect</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">not_to</span> <span class="n">be_zero</span> <span class="c"># 7.zero?</span>
</pre></div>

</div>
</div>

<div class="vbox output_wrapper">
<div class="output vbox">


<div class="hbox output_area"><div class="prompt output_prompt">
    Out[241]:</div>
<div class="box-flex1 output_subarea output_pyout">


<pre>
false
</pre>

</div>
</div>

</div>
</div>

</div>
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="결론">결론</h2>
<p>여기까지 소개한 매쳐들이 RSpec 빌트인 매쳐로 테스트하는데 가장 많이 사용됩니다. 조금 기교스러운 매쳐들도 있어서 익숙해지는데 시간이 걸릴지도 모르겠습니다만, 기본적인 원리만 이해하고 빌트인 매쳐들만 활용해도 대부분의 테스트를 하는 데는 크게 무리가 없습니다. 좀 더 자세한 사항은 <a href="https://www.relishapp.com/rspec/rspec-expectations/v/2-14/docs/built-in-matchers">Relish의 Rspec 문서</a>에서 확인하실 수 있습니다. 또한 아직 베타이지만 조만간 업데이트 예정인 메이저 버전 3에서 추가되는 매쳐도 확인할 필요가 있습니다. 역시 <a href="https://www.relishapp.com/rspec/rspec-expectations/v/3-0/docs/built-in-matchers">공식문서</a>에서 확인할 수 있습니다.</p>
</div>